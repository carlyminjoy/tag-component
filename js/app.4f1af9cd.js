(function(t){function e(e){for(var r,i,o=e[0],s=e[1],c=e[2],l=0,f=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(f.length)f.shift()();return u.push.apply(u,c||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(u.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},u=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/tag-component/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=s;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e3e":function(t,e,n){},"2a39":function(t,e,n){"use strict";n("0e3e")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container shadow"},[n("TagPicker",{attrs:{userUuid:t.userUuid}})],1)])},u=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-overlay",{attrs:{show:t.loading,"spinner-large":"",rounded:"sm"}},[n("b-card",{staticClass:"tag-picker p-3",attrs:{title:"Tags"},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("div",{staticClass:"tags"},[t._l(t.userTags,(function(e,r){return n("tag",{key:r,attrs:{tag:e},on:{delete:t.deleteTag}})})),n("transition",{attrs:{name:"fade"}},[!t.hover&&!t.adding||t.loading?t._e():[t.adding?t._e():n("div",{staticClass:"add-tag-container"},[n("div",{staticClass:"add-tag",on:{click:t.showNewTagInput}},[n("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}}),n("span",{staticClass:"sr-only"},[t._v("Add")])],1),n("span",{staticClass:"hover-text",attrs:{"aria-hidden":"true"}},[t._v("ADD")])]),t.adding?n("div",{staticClass:"new-tag"},[n("b-form-input",{ref:"newTagInput",attrs:{"aria-label":"New tag title"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag(t.newTag)},blur:t.closeDropdown},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}}),""!==t.newTag?n("ul",{staticClass:"shadow"},[t._l(t.guesses,(function(e,r){return n("li",{key:r,attrs:{role:"button"},on:{click:function(n){return t.addTag(e.title)}}},[t._v(" "+t._s(e.title)+" ")])})),n("li",{attrs:{role:"button"},on:{click:function(e){return t.addTag(t.newTag)}}},[n("b-icon",{attrs:{icon:"plus","aria-hidden":!0}}),t._v(" CREATE TAG ")],1)],2):t._e()],1):t._e()]],2)],2)])],1)},o=[],s=n("1da1"),c=(n("4de4"),n("caad"),n("2532"),n("7db0"),n("d81d"),n("c740"),n("a434"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag",style:t.colors,on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("span",[t._v(t._s(t.tag.title))]),n("transition",{attrs:{name:"slide"}},[t.hover?[n("b-icon",{attrs:{icon:"x","aria-hidden":"true"},on:{click:t.deleteTag}})]:t._e()],2),n("span",{staticClass:"sr-only",on:{click:t.deleteTag}},[t._v("Delete")])],1)}),d=[],l={name:"Tag",props:{tag:{type:Object,required:!0}},data:function(){return{hover:!1}},computed:{colors:function(){return{background:this.tag.color.background,border:"1px solid ".concat(this.tag.color.text),color:this.tag.color.text}}},methods:{deleteTag:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("delete",t.tag.uuid);case 1:case"end":return e.stop()}}),e)})))()}}},f=l,g=(n("6821"),n("2877")),p=Object(g["a"])(f,c,d,!1,null,"230b06a5",null),h=p.exports,b=(n("d3b7"),n("11c1")),v=n.n(b),m=500,T=[{uuid:"aaaa-bbbb-cccc-dddd",title:"Donor",color:{background:"#EDB7B7",text:"#864948"}},{uuid:"eeee-ffff-gggg-hhhh",title:"Fundraiser",color:{background:"#C8E8FF",text:"#51758F"}}],w=[{uuid:"1111-2222-3333-4444",fullName:"Aizah Wilkerson",tags:["aaaa-bbbb-cccc-dddd"]}],k=[{background:"#C8E8FF",text:"#51758F"},{background:"#B4409B",text:"#FFCDFF"},{background:"#B7EDD5",text:"#418063"},{background:"#EDB7B7",text:"#864948"},{background:"#4654B2",text:"#BACAF7"}],x=function(){return k[Math.floor(Math.random()*k.length)]},y=function(){return new Promise((function(t){setTimeout((function(){t(T)}),m)}))},_=function(t){return new Promise((function(e){setTimeout((function(){var n={uuid:v()(),title:t,color:x()};T.push(n),e(n)}),m)}))},O=function(t){return new Promise((function(e){setTimeout((function(){var n=w.find((function(e){return e.uuid===t}));e(n.tags)}),m)}))},C=function(t,e){return new Promise((function(n){setTimeout((function(){var r=w.find((function(e){return e.uuid===t}));r.tags.push(e),n(r)}),m)}))},j=function(t,e){return new Promise((function(n){setTimeout((function(){var r=w.find((function(e){return e.uuid===t}));r.tags=r.tags.filter((function(t){return t!==e})),n(r)}),m)}))},P={name:"TagPicker",components:{Tag:h},props:{userUuid:{type:String,required:!0}},data:function(){return{allTags:[],userTags:[],newTag:"",adding:!1,hover:!1,loading:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTags();case 2:case"end":return e.stop()}}),e)})))()},computed:{guesses:function(){var t=this;return""===this.newTag?[]:this.allTags.filter((function(e){return e.title.toLowerCase().includes(t.newTag.toLowerCase())&&!t.userTags.includes(e)}))}},methods:{addTag:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==t){n.next=2;break}return n.abrupt("return");case 2:if(e.loading=!0,n.t0=e.allTags.find((function(e){return t===e.title})),n.t0){n.next=8;break}return n.next=7,_(t);case 7:n.t0=n.sent;case 8:r=n.t0,C(e.userUuid,r.uuid),e.userTags.push(r),e.allTags.map((function(t){return t.title})).includes(t)||e.allTags.push(r),e.newTag="",e.adding=!1,e.loading=!1;case 15:case"end":return n.stop()}}),n)})))()},deleteTag:function(t){this.loading=!0,j(this.userUuid,t);var e=this.userTags.findIndex((function(e){return e.uuid===t}));this.userTags.splice(e,1),this.loading=!1},getTags:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,y();case 3:return t.allTags=e.sent,e.next=6,O(t.userUuid);case 6:n=e.sent,t.userTags=n.map((function(e){return t.allTags.find((function(t){return t.uuid===e}))})),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},closeDropdown:function(){""===this.newTag&&(this.adding=!1)},showNewTagInput:function(){var t=this;this.adding=!0,this.$nextTick((function(){t.$refs.newTagInput.focus()}))}}},B=P,F=(n("2a39"),n("846d"),Object(g["a"])(B,i,o,!1,null,"747041a3",null)),D=F.exports,E={name:"App",components:{TagPicker:D},data:function(){return{userUuid:"1111-2222-3333-4444"}}},R=E,A=(n("5c0b"),Object(g["a"])(R,a,u,!1,null,null,null)),I=A.exports,U=n("5f5b"),$=n("0759"),M=n("7386");n("f9e3"),n("2dd8");r["default"].use(U["a"]),r["default"].component("BIcon",$["a"]),r["default"].component("BIconX",M["r"]),r["default"].component("BIconPlus",M["n"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6220:function(t,e,n){},6821:function(t,e,n){"use strict";n("e4a8")},"846d":function(t,e,n){"use strict";n("6220")},"9c0c":function(t,e,n){},e4a8:function(t,e,n){}});
//# sourceMappingURL=app.4f1af9cd.js.map